---
title: Amazon Simple Storage Service
---

## Storage Classes

| Storage Class            | Standard                                                      | Standard-Infrequent Access (Standard-IA)        | One Zone-Infrequent Access (One Zone-IA)                                                  | Intelligent-Tiering                                                                          | Glacier                                                                | Glacier Deep Archive                                                              |
| ------------------------ | ------------------------------------------------------------- | ----------------------------------------------- | ----------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| Description              | General purpose storage with high durability and availability | Long-lived data that's accessed less frequently | Infrequently accessed storage at a lower cost, stored in a single Availability Zone       | Automatically transitions objects between two access tiers based on changing access patterns | Very low-cost storage for archival data                                | Lowest cost storage for long-term archival and preservation                       |
| Retrieval Time           | Immediate                                                     | Immediate                                       | Immediate                                                                                 | Immediate                                                                                    | Fast (1-5 minutes), Standard (3-5 hours), Bulk (5-12 hours)            | Standard (12 hours), Bulk (48 hours)                                              |
| Minimum Storage Duration | None                                                          | 30 days                                         | 30 days                                                                                   | 30 days                                                                                      | 90 days                                                                | 180 days                                                                          |
| Cost                     | Standard charges apply                                        | Lower storage costs but retrieval fees apply    | Lower storage and retrieval costs, but data is lost if the Availability Zone is destroyed | No additional charges, but prices vary based on the storage tier chosen                      | Lower storage and retrieval costs, but additional retrieval fees apply | Lowest storage and retrieval costs, but higher fees for additional data retrieval |

## Lifecycle

S3 Lifecycle là một tính năng của dịch vụ lưu trữ đám mây Amazon S3 (Simple Storage Service) cho phép người dùng tự động chuyển các đối tượng S3 sang các lớp lưu trữ khác nhau trong suốt chu kỳ đời của chúng, tùy thuộc vào độ tuổi của các đối tượng. Tính năng này giúp tối ưu hóa chi phí và hiệu quả lưu trữ cho các đối tượng S3.

S3 Lifecycle được thiết kế để giảm chi phí lưu trữ bằng cách tự động chuyển các đối tượng sang các lớp lưu trữ khác nhau, chẳng hạn từ lớp Standard sang lớp Infrequent Access hoặc Glacier. Điều này giảm chi phí cho việc lưu trữ dữ liệu không cần thiết trong thời gian dài.

Quy tắc S3 Lifecycle được xác định bởi hai thành phần: "hành động" và "chuyển đổi". Hành động được sử dụng để thực hiện các thao tác trên các đối tượng, chẳng hạn như chuyển sang một lớp lưu trữ khác. Chuyển đổi được sử dụng để cấu hình khi nào, sau khi một đối tượng được tạo, nó sẽ được di chuyển sang một lớp lưu trữ khác.

Với S3 Lifecycle, người dùng có thể tự động chuyển các đối tượng sang các lớp lưu trữ khác nhau để giảm chi phí lưu trữ và tối ưu hóa hiệu suất lưu trữ. Nó cũng giúp quản lý dữ liệu trên AWS S3 dễ dàng và hiệu quả hơn.

## Versioning

S3 Versioning là một tính năng của dịch vụ lưu trữ đám mây S3 của Amazon (Simple Storage Service) cho phép người dùng lưu trữ nhiều phiên bản của các đối tượng tại cùng một vị trí. Với S3 Versioning, mỗi khi một đối tượng được sửa đổi hoặc xóa, một phiên bản mới của đối tượng đó sẽ được tạo và lưu trữ. Tính năng này giúp bảo vệ dữ liệu của bạn khỏi việc mất mát vô ý do việc xóa hoặc chỉnh sửa của người dùng.

Khi Versioning được kích hoạt trên một thùng chứa S3, bất kỳ sửa đổi hoặc xóa đối tượng nào cũng sẽ tạo ra một phiên bản mới của đối tượng đó. Mỗi phiên bản của đối tượng có một định danh duy nhất, được biết đến là "version ID". Định danh phiên bản này có thể được sử dụng để truy cập các phiên bản của đối tượng hoặc khôi phục các phiên bản đã bị xóa.

Với S3 Versioning, bạn có thể:

- Bảo vệ dữ liệu khỏi việc xóa hoặc sửa đổi của người dùng.
- Theo dõi và quản lý các phiên bản khác nhau của các đối tượng.
- Khôi phục các phiên bản đã bị xóa.

Tuy nhiên, S3 Versioning cũng có thể làm tăng chi phí lưu trữ vì mỗi phiên bản đều được lưu trữ riêng biệt. Do đó, khi sử dụng tính năng này, bạn cần phải quản lý dữ liệu đã lưu trữ một cách chặt chẽ để tránh tăng chi phí không cần thiết.

Tóm lại, S3 Versioning là một tính năng của AWS S3 cho phép người dùng lưu trữ nhiều phiên bản của các đối tượng tại một vị trí, bảo vệ dữ liệu và quản lý các phiên bản của đối tượng.

## Origin Access Identity

Origin Access Identity (OAI) là một tính năng được cung cấp bởi Amazon Web Services (AWS) cho phép tạo ra một Chính sách Dựa trên Định danh cho các tài nguyên trong một thùng chứa Amazon S3. OAI cho phép bạn tạo Chính sách Dựa trên Định danh cho một thùng chứa Amazon S3, hạn chế quyền truy cập vào các tài nguyên của thùng chứa chỉ cho các yêu cầu được thực hiện từ một phân phối CloudFront. Điều này giúp bảo mật các tài nguyên trong thùng chứa Amazon S3 của bạn bằng cách giới hạn quyền truy cập chỉ cho những yêu cầu đến từ một phân phối CloudFront.

## Sticky Sessions

Sticky sessions là một cơ chế trong load balancing (cân bằng tải) được sử dụng để đảm bảo rằng các HTTP request từ một client cụ thể luôn được điều hướng đến cùng một server trong một server pool (nhóm các server đang hoạt động) trong một khoảng thời gian xác định trước.

Khi kích hoạt sticky sessions, một cookie sẽ được tạo và gắn vào từng HTTP request của client. Load balancer sau đó sử dụng thông tin trong cookie này để xác định server nào sẽ xử lý HTTP request tiếp theo từ client đó. Điều này giúp giảm thiểu fragmentation và tối ưu hóa user experience.

Tuy nhiên, việc sử dụng sticky sessions cũng có thể dẫn đến tình trạng phân phối tải không đều giữa các server trong server pool, đặc biệt khi một số client tạo ra nhiều HTTP request hơn người khác, làm giảm hiệu năng tổng thể của hệ thống.

## Object Lock

Object Lock của S3 là một tính năng của Amazon S3 được thiết kế để đảm bảo tính toàn vẹn và tuân thủ pháp luật của các object được lưu trữ trong S3. Tính năng này cho phép người dùng "lock" (khóa) các object trong S3 để ngăn chúng khỏi việc bị xóa, sửa đổi hoặc ghi đè một cách không mong muốn.

Có hai chế độ "object locking": Governance và Compliance. Chế độ Governance cho phép áp dụng các "lock policy" và thiết lập "retention periods" cho các object trong S3, trong khi chế độ Compliance tạo ra một môi trường "permanent lock" cho các object S3.

Retention Period là khoảng thời gian tối thiểu một object S3 phải được lưu giữ trước khi nó có thể bị xóa hoặc sửa đổi. Khoảng thời gian này được xác định bởi "lock mode" và chỉ có thể được chỉnh sửa bởi một AWS administrator. Legal Hold cho phép người dùng áp đặt một "permanent lock" lên một object S3, đảm bảo tính toàn vẹn pháp lý của nó, và chỉ có thể được gỡ bỏ với sự phê duyệt của một AWS administrator.

## AWS Athena

- **Purpose**: Serverless interactive query service.
- **Description**: Enables querying data in Amazon S3 using standard SQL without any servers to manage.
- **Use case**: Analyzing logs, ad-hoc data exploration, complex joins across large datasets.
- **Example**: Analyzing web server logs stored in an S3 bucket to understand user behavior.
- **Key features**:
  - Serverless architecture
  - Pay-per-query pricing
  - Integrates with AWS Glue Data Catalog
  - Supports complex data types (like arrays and maps)
  - Built on Presto with standard SQL support

## S3 Select & S3 Query

- **Purpose**: Extract specific data from S3 objects.
- **Description**: Allows retrieval of a subset of data from an object in S3 using simple SQL expressions without having to retrieve the entire object.
- **Use case**: Simplifying applications by eliminating unnecessary data retrieval, improving performance and reducing costs.
- **Example**: Retrieving specific columns from a CSV file stored in S3.
- **Key features**:
  - Reduces the amount of data transferred
  - Works directly on data stored in S3
  - Supports CSV, JSON, and Parquet data formats
  - Can be used from the AWS Management Console, SDK, or CLI
  - Integrates with other AWS services like Lambda and Athena
