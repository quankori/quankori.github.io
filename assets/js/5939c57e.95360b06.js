"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1969],{3905:(n,t,e)=>{e.d(t,{Zo:()=>p,kt:()=>m});var r=e(7294);function c(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){c(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function a(n,t){if(null==n)return{};var e,r,c=function(n,t){if(null==n)return{};var e,r,c={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(c[e]=n[e]);return c}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(c[e]=n[e])}return c}var l=r.createContext({}),s=function(n){var t=r.useContext(l),e=t;return n&&(e="function"==typeof n?n(t):i(i({},t),n)),e},p=function(n){var t=s(n.components);return r.createElement(l.Provider,{value:t},n.children)},g="mdxType",h={inlineCode:"code",wrapper:function(n){var t=n.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(n,t){var e=n.components,c=n.mdxType,o=n.originalType,l=n.parentName,p=a(n,["components","mdxType","originalType","parentName"]),g=s(e),u=c,m=g["".concat(l,".").concat(u)]||g[u]||h[u]||o;return e?r.createElement(m,i(i({ref:t},p),{},{components:e})):r.createElement(m,i({ref:t},p))}));function m(n,t){var e=arguments,c=t&&t.mdxType;if("string"==typeof n||c){var o=e.length,i=new Array(o);i[0]=u;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=n,a[g]="string"==typeof n?n:c,i[1]=a;for(var s=2;s<o;s++)i[s]=e[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,e)}u.displayName="MDXCreateElement"},5129:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>s});var r=e(7462),c=(e(7294),e(3905));const o={title:"Nest.js Dependency Injection (DI)"},i=void 0,a={unversionedId:"programming/nodejs/nestjs-di",id:"programming/nodejs/nestjs-di",title:"Nest.js Dependency Injection (DI)",description:"Dependency Injection (DI) l\xe0 m\u1ed9t m\u1eabu thi\u1ebft k\u1ebf trong \u0111\xf3 m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng nh\u1eadn c\xe1c ph\u1ee5 thu\u1ed9c c\u1ee7a n\xf3 t\u1eeb b\xean ngo\xe0i thay v\xec t\u1ea1o ch\xfang b\xean trong. N\xf3 th\xfac \u0111\u1ea9y nguy\xean t\u1eafc \u0111\u1ea3o ng\u01b0\u1ee3c c\u1ee7a vi\u1ec7c ki\u1ec3m so\xe1t, trong \u0111\xf3 vi\u1ec7c t\u1ea1o ra v\xe0 qu\u1ea3n l\xfd c\xe1c ph\u1ee5 thu\u1ed9c \u0111\u01b0\u1ee3c chuy\u1ec3n ra b\xean ngo\xe0i l\u1edbp. \u0110i\u1ec1u n\xe0y l\xe0m cho h\u1ec7 th\u1ed1ng modul h\u01a1n, d\u1ec5 ki\u1ec3m tra h\u01a1n v\xe0 th\u01b0\u1eddng l\xe0 g\u1ecdn g\xe0ng h\u01a1n v\u1ec1 vi\u1ec7c t\xe1ch bi\u1ec7t c\xe1c v\u1ea5n \u0111\u1ec1 li\xean quan.",source:"@site/docs/programming/nodejs/nestjs-di.md",sourceDirName:"programming/nodejs",slug:"/programming/nodejs/nestjs-di",permalink:"/docs/programming/nodejs/nestjs-di",draft:!1,tags:[],version:"current",frontMatter:{title:"Nest.js Dependency Injection (DI)"},sidebar:"programming",previous:{title:"Loop",permalink:"/docs/programming/nodejs/loop"},next:{title:"Nest.js Providers",permalink:"/docs/programming/nodejs/nestjs-providers"}},l={},s=[],p={toc:s},g="wrapper";function h(n){let{components:t,...e}=n;return(0,c.kt)(g,(0,r.Z)({},p,e,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("p",null,"Dependency Injection (DI) l\xe0 m\u1ed9t m\u1eabu thi\u1ebft k\u1ebf trong \u0111\xf3 m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng nh\u1eadn c\xe1c ph\u1ee5 thu\u1ed9c c\u1ee7a n\xf3 t\u1eeb b\xean ngo\xe0i thay v\xec t\u1ea1o ch\xfang b\xean trong. N\xf3 th\xfac \u0111\u1ea9y nguy\xean t\u1eafc \u0111\u1ea3o ng\u01b0\u1ee3c c\u1ee7a vi\u1ec7c ki\u1ec3m so\xe1t, trong \u0111\xf3 vi\u1ec7c t\u1ea1o ra v\xe0 qu\u1ea3n l\xfd c\xe1c ph\u1ee5 thu\u1ed9c \u0111\u01b0\u1ee3c chuy\u1ec3n ra b\xean ngo\xe0i l\u1edbp. \u0110i\u1ec1u n\xe0y l\xe0m cho h\u1ec7 th\u1ed1ng modul h\u01a1n, d\u1ec5 ki\u1ec3m tra h\u01a1n v\xe0 th\u01b0\u1eddng l\xe0 g\u1ecdn g\xe0ng h\u01a1n v\u1ec1 vi\u1ec7c t\xe1ch bi\u1ec7t c\xe1c v\u1ea5n \u0111\u1ec1 li\xean quan."),(0,c.kt)("p",null,"NestJS, m\u1ed9t framework Node.js ti\u1ebfn b\u1ed9 \u0111\u1ec3 x\xe2y d\u1ef1ng c\xe1c \u1ee9ng d\u1ee5ng ph\xeda m\xe1y ch\u1ee7 c\xf3 kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng, s\u1eed d\u1ee5ng Dependency Injection m\u1ea1nh m\u1ebd nh\u01b0 m\u1ed9t trong nh\u1eefng t\xednh n\u0103ng c\u1ed1t l\xf5i c\u1ee7a n\xf3, \u0111\u01b0\u1ee3c truy\u1ec1n c\u1ea3m h\u1ee9ng t\u1eeb h\u1ec7 th\u1ed1ng DI c\u1ee7a Angular."),(0,c.kt)("p",null,"D\u01b0\u1edbi \u0111\xe2y l\xe0 c\xe1ch Dependency Injection ho\u1ea1t \u0111\u1ed9ng trong NestJS:"),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Providers"),": Trong NestJS, m\u1ed9t provider l\xe0 m\u1ed9t c\xe1i g\xec \u0111\xf3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c ti\xeam v\xe0o c\xe1c h\xe0m kh\u1edfi t\u1ea1o c\u1ee7a c\xe1c l\u1edbp kh\xe1c. Providers c\xf3 th\u1ec3 l\xe0 c\xe1c gi\xe1 tr\u1ecb \u0111\u01a1n gi\u1ea3n, c\xe1c l\u1edbp, c\xe1c h\xe0m nh\xe0 m\xe1y v\xe0 nhi\u1ec1u h\u01a1n n\u1eefa."),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Modules"),":  M\u1ed7i m\xf4-\u0111un trong NestJS c\xf3 th\u1ec3 khai b\xe1o c\xe1c th\xe0nh ph\u1ea7n (controllers, providers, vv) thu\u1ed9c v\u1ec1 n\xf3. Khi m\u1ed9t m\xf4-\u0111un c\u1ea7n m\u1ed9t provider, n\xf3 s\u1ebd t\xecm ki\u1ebfm trong m\xf4-\u0111un c\u1ee7a n\xf3 v\xe0 trong c\xe1c m\xf4-\u0111un \u0111\xe3 \u0111\u01b0\u1ee3c nh\u1eadp \u0111\u1ec3 t\xecm th\u1ea5y n\xf3."),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Injectors"),':  NestJS c\xf3 m\u1ed9t container DI t\xedch h\u1ee3p s\u1eb5n \u0111\u1ec3 x\u1eed l\xfd vi\u1ec7c t\u1ea1o ra v\xe0 v\xf2ng \u0111\u1eddi c\u1ee7a c\xe1c \u0111\u1ed1i t\u01b0\u1ee3ng (ho\u1eb7c "providers").'),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Decorators"),": NestJS s\u1eed d\u1ee5ng c\xe1c decorators nh\u01b0 @Inject() \u0111\u1ec3 x\xe1c \u0111\u1ecbnh th\u1ee7 c\xf4ng m\u1ed9t m\xe3 th\xf4ng b\xe1o cung c\u1ea5p t\xf9y ch\u1ec9nh cho m\u1ed9t provider."),(0,c.kt)("p",null,"H\xe3y xem x\xe9t ch\xfang ta c\xf3 m\u1ed9t UserService \u0111\u01a1n gi\u1ea3n truy v\u1ea5n d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng:"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-ts"},"@Injectable()\nexport class UserService {\n  getUsers() {\n    // ... fetch user data\n  }\n}\n")),(0,c.kt)("p",null,"D\u1ecbch v\u1ee5 n\xe0y \u0111\u01b0\u1ee3c \u0111\xe1nh d\u1ea5u b\u1eb1ng decorator @Injectable(), bi\u1ebfn n\xf3 th\xe0nh m\u1ed9t provider c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c qu\u1ea3n l\xfd b\u1edfi h\u1ec7 th\u1ed1ng DI c\u1ee7a NestJS."),(0,c.kt)("p",null,"B\xe2y gi\u1edd, n\u1ebfu b\u1ea1n mu\u1ed1n s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 n\xe0y trong m\u1ed9t controller, thay v\xec t\u1ea1o m\u1ed9t phi\xean b\u1ea3n UserService th\u1ee7 c\xf4ng, b\u1ea1n s\u1ebd l\xe0m nh\u01b0 sau:"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-ts"},'@Controller("users")\nexport class UserController {\n  constructor(private userService: UserService) {}\n\n  @Get()\n  findAll() {\n    return this.userService.getUsers();\n  }\n}\n')),(0,c.kt)("p",null,"\u1ede \u0111\xe2y, UserController y\xeau c\u1ea7u d\u1ecbch v\u1ee5 UserService \u0111\u01b0\u1ee3c ti\xeam v\xe0o. B\u1ed9 ti\xeam DI c\u1ee7a NestJS ch\u1ecbu tr\xe1ch nhi\u1ec7m t\u1ea1o ra m\u1ed9t phi\xean b\u1ea3n c\u1ee7a UserService v\xe0 cung c\u1ea5p n\xf3 cho UserController."),(0,c.kt)("p",null,"L\u1ee3i \xedch trong NestJS:"),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Testability"),": V\u1edbi DI, d\u1ec5 d\xe0ng thay th\u1ebf d\u1ecbch v\u1ee5 th\u1ef1c t\u1ebf b\u1eb1ng phi\xean b\u1ea3n gi\u1ea3 m\u1ea1o \u0111\u1ec3 ki\u1ec3m tra."),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Modularity"),": DI th\xfac \u0111\u1ea9y thi\u1ebft k\u1ebf module h\u01a1n b\u1eb1ng c\xe1ch th\xfac \u0111\u1ea9y vi\u1ec7c t\xe1ch bi\u1ec7t c\xe1c v\u1ea5n \u0111\u1ec1."),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Reusability"),":  Providers (nh\u01b0 c\xe1c d\u1ecbch v\u1ee5) c\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng d\u1ec5 d\xe0ng trong c\xe1c ph\u1ea7n kh\xe1c nhau c\u1ee7a \u1ee9ng d\u1ee5ng."),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"Lifecycles"),": NestJS c\xf3 th\u1ec3 qu\u1ea3n l\xfd v\xf2ng \u0111\u1eddi c\u1ee7a c\xe1c providers, t\u1ea1o ch\xfang theo c\xe1ch l\u01b0\u1eddi bi\u1ebfng ho\u1eb7c l\xe0 c\xe1c singleton, ph\u1ee5 thu\u1ed9c v\xe0o nhu c\u1ea7u c\u1ee7a b\u1ea1n."),(0,c.kt)("p",null,"T\xf3m l\u1ea1i, Dependency Injection l\xe0 m\u1ed9t kh\xe1i ni\u1ec7m c\u1ed1t l\xf5i trong NestJS, gi\xfap t\u1ea1o ra c\xe1c \u1ee9ng d\u1ee5ng c\xf3 kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng, d\u1ec5 b\u1ea3o tr\xec v\xe0 d\u1ec5 ki\u1ec3m tra."))}h.isMDXComponent=!0}}]);