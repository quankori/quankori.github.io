"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[285],{3905:(e,r,t)=>{t.d(r,{Zo:()=>u,kt:()=>f});var a=t(7294);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=a.createContext({}),i=function(e){var r=a.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},u=function(e){var r=i(e.components);return a.createElement(p.Provider,{value:r},e.children)},m="mdxType",s={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},h=a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),m=i(t),h=n,f=m["".concat(p,".").concat(h)]||m[h]||s[h]||l;return t?a.createElement(f,o(o({ref:r},u),{},{components:t})):a.createElement(f,o({ref:r},u))}));function f(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var l=t.length,o=new Array(l);o[0]=h;var c={};for(var p in r)hasOwnProperty.call(r,p)&&(c[p]=r[p]);c.originalType=e,c[m]="string"==typeof e?e:n,o[1]=c;for(var i=2;i<l;i++)o[i]=t[i];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},6373:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>o,default:()=>s,frontMatter:()=>l,metadata:()=>c,toc:()=>i});var a=t(7462),n=(t(7294),t(3905));const l={title:"Terraform"},o=void 0,c={unversionedId:"cheatsheet/terraform",id:"cheatsheet/terraform",title:"Terraform",description:"Setup Terraform",source:"@site/docs/cheatsheet/terraform.md",sourceDirName:"cheatsheet",slug:"/cheatsheet/terraform",permalink:"/docs/cheatsheet/terraform",draft:!1,editUrl:"https://github.com/recallwei/wiki/tree/main/website/docs/cheatsheet/terraform.md",tags:[],version:"current",frontMatter:{title:"Terraform"},sidebar:"cheatsheet",previous:{title:"SSH CheatSheet",permalink:"/docs/cheatsheet/ssh"},next:{title:"Install package Linux",permalink:"/docs/cheatsheet/package"}},p={},i=[{value:"Setup Terraform",id:"setup-terraform",level:2},{value:"Command line Terraform",id:"command-line-terraform",level:2}],u={toc:i},m="wrapper";function s(e){let{components:r,...t}=e;return(0,n.kt)(m,(0,a.Z)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"setup-terraform"},"Setup Terraform"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Install aws cli")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Setup HashiCorp tab package"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"brew tap hashicorp/tap\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Setup Terraform CLI package")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"brew install hashicorp/tap/terraform\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Update latest version Terraform")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"brew update\nbrew upgrade hashicorp/tap/terraform\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Check terraform")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform -help\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Check library")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"https://registry.terraform.io/\n")),(0,n.kt)("h2",{id:"command-line-terraform"},"Command line Terraform"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Basic command line")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform init\nterraform apply -auto-approve\nterraform destroy\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Log and debug")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform plan\n\nterraform plan -out plan.out\n\nterraform show -json plan.out > plan.json\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"State")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform import\n\nterraform state list\n\nterraform state rm\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Check version")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sL https://checkpoint-api.hashicorp.com/v1/check/terraform | jq -r '.current_version'\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Downlaod version")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://releases.hashicorp.com/terraform/....\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Unzip and move to local bin")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"unzip unzip terraform_VERSION_linux_amd64.zip\n\nsudo mv terraform /usr/local/bin/\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Terraform init state")),(0,n.kt)("p",null,"M\u1ee5c \u0111\xedch c\u1ee7a t\xf9y ch\u1ecdn n\xe0y l\xe0 gi\xfap b\u1ea1n di chuy\u1ec3n tr\u1ea1ng th\xe1i t\u1eeb m\u1ed9t backend c\u1ea5u h\xecnh c\u0169 sang m\u1ed9t backend c\u1ea5u h\xecnh m\u1edbi m\xe0 kh\xf4ng c\u1ea7n ph\u1ea3i th\u1ef1c hi\u1ec7n c\xf4ng vi\u1ec7c n\xe0y m\u1ed9t c\xe1ch th\u1ee7 c\xf4ng."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform init -migrate-state\n")),(0,n.kt)("p",null,"T\xf9y ch\u1ecdn n\xe0y bu\u1ed9c Terraform kh\xf4ng tham chi\u1ebfu ho\u1eb7c s\u1eed d\u1ee5ng b\u1ea5t k\u1ef3 c\u1ea5u h\xecnh backend n\xe0o hi\u1ec7n c\xf3."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform init -reconfigure\n")),(0,n.kt)("p",null,"Khi ch\u1ea1y terraform init v\u1edbi t\xf9y ch\u1ecdn -upgrade, l\u1ec7nh s\u1ebd c\u1ed1 g\u1eafng t\u1ea3i v\u1ec1 v\xe0 c\u1eadp nh\u1eadt c\xe1c phi\xean b\u1ea3n m\u1edbi nh\u1ea5t c\u1ee7a providers m\xe0 b\u1ea1n \u0111\xe3 s\u1eed d\u1ee5ng, theo \u0111i\u1ec1u ki\u1ec7n phi\xean b\u1ea3n \u0111\xe3 \u0111\u01b0\u1ee3c x\xe1c \u0111\u1ecbnh trong m\xe3 c\u1ee7a b\u1ea1n."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"terraform init -upgrade\n")))}s.isMDXComponent=!0}}]);