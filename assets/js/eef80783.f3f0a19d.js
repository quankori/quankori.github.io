"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6671],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>g});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var a=r.createContext({}),p=function(e){var n=r.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},s=function(e){var n=p(e.components);return r.createElement(a.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=p(t),d=o,g=m["".concat(a,".").concat(d)]||m[d]||u[d]||i;return t?r.createElement(g,c(c({ref:n},s),{},{components:t})):r.createElement(g,c({ref:n},s))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,c=new Array(i);c[0]=d;var l={};for(var a in n)hasOwnProperty.call(n,a)&&(l[a]=n[a]);l.originalType=e,l[m]="string"==typeof e?e:o,c[1]=l;for(var p=2;p<i;p++)c[p]=t[p];return r.createElement.apply(null,c)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4170:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=t(7462),o=(t(7294),t(3905));const i={title:"Lifecycle Events"},c=void 0,l={unversionedId:"programming/nestjs/lifecycle-events",id:"programming/nestjs/lifecycle-events",title:"Lifecycle Events",description:"Image",source:"@site/docs/programming/nestjs/lifecycle-events.md",sourceDirName:"programming/nestjs",slug:"/programming/nestjs/lifecycle-events",permalink:"/docs/programming/nestjs/lifecycle-events",draft:!1,tags:[],version:"current",frontMatter:{title:"Lifecycle Events"},sidebar:"programming",previous:{title:"Dependency Injection (DI)",permalink:"/docs/programming/nestjs/dependency-injection"},next:{title:"Providers",permalink:"/docs/programming/nestjs/providers"}},a={},p=[{value:"Concept",id:"concept",level:2},{value:"Code",id:"code",level:2}],s={toc:p},m="wrapper";function u(e){let{components:n,...t}=e;return(0,o.kt)(m,(0,r.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/quankori/quankori.github.io/master/src/images/nestjs/7.png",alt:"Image"})),(0,o.kt)("h2",{id:"concept"},"Concept"),(0,o.kt)("p",null,"Trong NestJS, Lifecycle Events l\xe0 c\xe1c s\u1ef1 ki\u1ec7n \u0111\u01b0\u1ee3c g\u1eafn li\u1ec1n v\u1edbi c\xe1c th\xe0nh ph\u1ea7n ch\xednh c\u1ee7a \u1ee9ng d\u1ee5ng, nh\u01b0 module, controller, provider v\xe0 gateway. C\xe1c s\u1ef1 ki\u1ec7n n\xe0y cho ph\xe9p b\u1ea1n th\u1ef1c hi\u1ec7n c\xe1c h\xe0nh \u0111\u1ed9ng t\xf9y ch\u1ec9nh t\u1ea1i c\xe1c giai \u0111o\u1ea1n quan tr\u1ecdng c\u1ee7a v\xf2ng \u0111\u1eddi c\u1ee7a c\xe1c th\xe0nh ph\u1ea7n n\xe0y. D\u01b0\u1edbi \u0111\xe2y l\xe0 c\xe1c Lifecycle Events c\u01a1 b\u1ea3n trong NestJS:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Module/ Provider/ Controller Events:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onModuleInit"),": \u0110\u01b0\u1ee3c g\u1ecdi sau khi module/provider/controller \u0111\xe3 \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o v\xe0 t\u1ea5t c\u1ea3 c\xe1c provider \u0111\xe3 \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onModuleDestroy"),": \u0110\u01b0\u1ee3c g\u1ecdi khi \u1ee9ng d\u1ee5ng b\u1ecb module/provider/controller t\u1eaft v\xe0 b\u1ecb h\u1ee7y."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Application Events:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onApplicationBootstrap"),": \u0110\u01b0\u1ee3c g\u1ecdi sau khi \u1ee9ng d\u1ee5ng \u0111\xe3 kh\u1edfi t\u1ea1o t\u1ea5t c\u1ea3 c\xe1c module v\xe0 t\u1ea5t c\u1ea3 c\xe1c Lifecycle Events kh\xe1c."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onApplicationShutdown"),": \u0110\u01b0\u1ee3c g\u1ecdi khi \u1ee9ng d\u1ee5ng b\u1ecb t\u1eaft v\xe0 t\u1ea5t c\u1ea3 c\xe1c module \u0111\u1ec1u b\u1ecb h\u1ee7y."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Gateway Events:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"handleConnection"),": \u0110\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t k\u1ebft n\u1ed1i WebSocket m\u1edbi \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"handleDisconnect"),": \u0110\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t k\u1ebft n\u1ed1i WebSocket b\u1ecb \u0111\xf3ng.")))),(0,o.kt)("h2",{id:"code"},"Code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import { Injectable, OnModuleInit, OnModuleDestroy } from "@nestjs/common";\n\n@Injectable()\nexport class MyService implements OnModuleInit, OnModuleDestroy {\n  onModuleInit() {\n    console.log("MyService has been initialized");\n  }\n\n  onModuleDestroy() {\n    console.log("MyService is being destroyed");\n  }\n\n  doSomething() {\n    console.log("Doing something...");\n  }\n}\n')))}u.isMDXComponent=!0}}]);